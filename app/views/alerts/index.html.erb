<div class="collection-actions">
  <%= link_to icon('plus', 'Add Alert'), new_data_source_alert_path(@source),
              role: :button, class: 'btn btn-success' %>
</div>

<% if @alerts.none? %>
  <div class="panel panel-default">
    <div class="panel-body">
      <p>Create an alert to be notified of important data points.</p>
      <p>Once you tell Congenial Enigma about the patterns that interest you, it
      will automatically search incoming data for matching data points.</p>
    </div>
  </div>
<% else %>
  <table class="table table-hover">
    <thead>
      <tr>
        <th><!-- Actions --></th>
        <th>Field Name</th>
        <th>Rule</th>
        <th>Number</th>
      </tr>
    </thead>
    <tbody>
    <% @alerts.each do |alert| %>
      <tr>
        <td class="col-md-1 member-actions">
          <%= link_to icon('pencil'),
                      edit_data_source_alert_path(@source, alert) %>
          <%= link_to icon('trash-o', class: 'text-danger'),
                      data_source_alert_path(@source, alert), method: :delete,
                      data: { confirm: 'Are you sure you want to delete the alert?' } %>
        </td>
        <td><%= alert.rule.field_name %></td>
        <td><%= alert.rule.class.title %></td>
        <td>
          <%= number_with_precision alert.rule.value, delimiter: ',',
                                    strip_insignificant_zeros: true %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
<% end %>
